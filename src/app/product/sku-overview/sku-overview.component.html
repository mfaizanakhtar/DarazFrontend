<app-navbar></app-navbar>

<mat-divider style="margin-top: 50px;" class="divider"></mat-divider>
<h1 class="divider">Grouped Stock Management</h1>
<mat-divider style="margin-bottom: 50px;" class="divider"></mat-divider>

<div class="divider">
    <ngx-datatable
    #table
    style="width:auto"
    class="material"
    [loadingIndicator]="loadingIndicator"
    [rows]="skus"
    [columnMode]="ColumnMode.force"
    [headerHeight]="50"
    [footerHeight]="50"
    rowHeight="auto"
    [selected]="selected"
    [selectionType]="SelectionType.checkbox"
    [selectAllRowsOnPage]="true"
    (activate)="onActivate($event)"
    (select)="onSelect($event)">

    <ngx-datatable-column
[width]="30"
[sortable]="false"
[canAutoResize]="false"
[draggable]="false"
[resizeable]="false"
[headerCheckboxable]="true"
[checkboxable]="true"
>

</ngx-datatable-column>

    <ngx-datatable-column name="S.No" [width]="1">
        <ng-template let-rowIndex="rowIndex" let-row="row" ngx-datatable-cell-template>
          <!-- <div >{{pIndex*pSize+rowIndex+1}}</div> -->
          <div >{{pIndex*pSize+rowIndex+1}}</div>          
        </ng-template>
      </ngx-datatable-column>
      <ngx-datatable-column name="SKU" prop="name"></ngx-datatable-column>
      <ngx-datatable-column name="Stock" prop="FBMstock"></ngx-datatable-column>
      <ngx-datatable-column *ngIf="LoggedUser.Profitibility" name="Product Cost" prop="cost"></ngx-datatable-column>
      <ngx-datatable-column *ngIf="LoggedUser.Profitibility" name="FBD Packaging Cost" prop="FBDpackagingCost"></ngx-datatable-column>
      <ngx-datatable-column *ngIf="LoggedUser.Profitibility" name="FBM Packaging Cost" prop="FBMpackagingCost"></ngx-datatable-column>
      <ngx-datatable-column name="Edit">
        <ng-template let-row="row" ngx-datatable-cell-template>
          <button mat-stroked-button color="primary" [matMenuTriggerFor]="menu">Action</button>
          <mat-menu #menu="matMenu">
            <button mat-menu-item (click)="EditSku(row)">Edit</button>
            <button mat-menu-item (click)="DeleteSku(row)">Delete</button>
          </mat-menu>
        <!-- <button mat-raised-button color="primary" (click)="EditSku(row)">Edit</button> -->
      </ng-template>
      </ngx-datatable-column>

    </ngx-datatable>

    <div class="paginator">
      <mat-paginator
      [length]="length"
      [pageSizeOptions]="[10, 20, 50, 100]"
      [pageIndex]="pIndex"
      [pageSize]="pSize"
      (page)="changePageData($event)">
      </mat-paginator>
    </div>

</div>




