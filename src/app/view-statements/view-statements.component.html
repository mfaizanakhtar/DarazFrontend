<app-navbar></app-navbar>
<div *ngIf="loadingIndicator" class="wrapper">
    <div class="inner"><mat-spinner></mat-spinner></div>
  </div>

<div *ngIf="!loadingIndicator">
<mat-divider class="divider" style="margin-top:50px;margin-bottom: 30px;"></mat-divider>
<div class="divider" style="display: flex;flex-wrap: wrap;">
<h1>Statement</h1>

<mat-form-field appearance="fill" style="margin-left: 10px;">
    <mat-label>Filter Statement</mat-label>
    <mat-select [(ngModel)]="Statement" (selectionChange)="statementSelected($event)">
      <mat-option value="All">All</mat-option>
      <mat-option *ngFor="let statement of StatementArray" [value]="statement._id">{{statement._id}}</mat-option>
    </mat-select>
  </mat-form-field>

  <mat-form-field appearance="fill" style="margin-left: 10px;">
    <mat-label>Filter Shop</mat-label>
    <mat-select [(ngModel)]="Shop" (selectionChange)="shopSelected($event)">
      <mat-option value="All">All</mat-option>
      <mat-option *ngFor="let shop of StoreArray" [value]="shop._id">{{shop._id}}</mat-option>
    </mat-select>
  </mat-form-field>

</div>

<mat-divider class="divider" style="margin-top:30px;margin-bottom:30px;"></mat-divider>
<div class="divider" style="box-shadow: 0 3px 10px rgb(0 0 0 / 0.2);margin-left: 400px;margin-right: 400px;margin-bottom: 200px;margin-top: 50px;">
<div style="margin-left: 100px;margin-right: 100px;">
<table>
    <th>Orders</th>
    <tr>
        <td>Item Charges</td>
        <td>{{StatementObj.ItemPriceCredit.Amount | number}}</td>
    </tr>
    <tr>
        <mat-expansion-panel>
            <mat-expansion-panel-header>
              <td>Other Credit</td>
            </mat-expansion-panel-header>
        
            <tr>
                <td>Shipping Fee (Paid By Customer)</td>
                <td>{{StatementObj.ShippingFeeCustomer.Amount-StatementObj.ShippingFeeCustomer.Vat | number}}</td>
            </tr>
        
          </mat-expansion-panel>
        <td>{{StatementObj.ShippingFeeCustomer.Amount-StatementObj.ShippingFeeCustomer.Vat | number}}</td>
    </tr>
    <tr>
        <mat-expansion-panel>
            <mat-expansion-panel-header>
              <td>Daraz Fees</td>
            </mat-expansion-panel-header>
        
            <tr>
                <td>Comission</td>
                <td>{{StatementObj.Comission.Amount+StatementObj.Comission.Vat | number}}</td>
            </tr>
            <tr>
                <td>Automatic Shipping Fee</td>
                <td>{{StatementObj.AutomaticShippingFee.Amount-StatementObj.AutomaticShippingFee.Vat | number}}</td>
            </tr>
            <tr>
                <td>Auto. Shipping fee subsidy (by Daraz)</td>
                <td>{{-StatementObj.AutomaticShippingFee.Amount+StatementObj.AutomaticShippingFee.Vat-StatementObj.ShippingFeeCustomer.Amount+StatementObj.ShippingFeeCustomer.Vat | number}}</td>
            </tr>
        
          </mat-expansion-panel>
        <td>{{StatementObj.Comission.Amount+StatementObj.Comission.Vat-StatementObj.ShippingFeeCustomer.Amount+StatementObj.ShippingFeeCustomer.Vat | number}}</td>
    </tr>
    <tr>
        <td>VAT</td>
        <td>{{-StatementObj.ItemPriceCredit.Vat-StatementObj.Comission.Vat-StatementObj.ShippingFeeCustomer.Vat-StatementObj.AutomaticShippingFee.Vat | number}}</td>
    </tr>
    <tr><mat-divider></mat-divider></tr>
    <tr>
        <td>Subtotal</td>
        <td>{{StatementObj.ItemPriceCredit.Amount+StatementObj.Comission.Amount-StatementObj.AutomaticShippingFee.Vat | number}}</td>
    </tr>
    <tr><mat-divider></mat-divider></tr>
    <th>Refunds</th>
    <tr>
        <td>Item Charges</td>
        <td>0</td>
    </tr>
    <tr>
        <mat-expansion-panel>
            <mat-expansion-panel-header>
              <td>Claims</td>
            </mat-expansion-panel-header>
        
            <tr>
                <td>Lost And Damaged Claim</td>
                <td>0</td>
            </tr>
        
          </mat-expansion-panel>
        <td>0</td>
    </tr>
    <tr>
        <mat-expansion-panel>
            <mat-expansion-panel-header>
              <td>Daraz Fees</td>
            </mat-expansion-panel-header>
        
            <tr>
                <td>Reversal Commission</td>
                <td>0</td>
            </tr>
        
          </mat-expansion-panel>
        <td>0</td>
    </tr>
    <tr>
        <td>Penalties</td>
        <td>0</td>
    </tr>
    <tr>
        <td>Others</td>
        <td>0</td>
    </tr>
    <tr>
        <td>VAT</td>
        <td>0</td>
    </tr>
    <tr><mat-divider></mat-divider></tr>
    <tr>
        <td>Subtotal</td>
        <td>0</td>
    </tr>
    <tr><mat-divider></mat-divider></tr>
    <th>Other Services</th>
    <tr>
        <td>Subsidy</td>
        <td>0</td>
    </tr>
    <tr>
        <td>Services</td>
        <td>0</td>
    </tr>
    <tr>
        <td>Others</td>
        <td>0</td>
    </tr>
    <tr>
        <td>VAT</td>
        <td>0</td>
    </tr>
    <tr><mat-divider></mat-divider></tr>
    <th>Closing Balance</th>
    <tr>
        <td>Total Balance</td>
        <td>0</td>
    </tr>
    <tr><mat-divider style="margin-top:10px;margin-bottom:10px"></mat-divider></tr>
</table>
</div>
</div>
<mat-divider></mat-divider>
</div>

